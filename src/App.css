*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-user-select: none;
  user-select: none;
}

:root {
  --bg: #1c1f1a;
  --sidebar-bg: #171717;
  --main-bg: #2a2e2a;
  --surface: #262b22;
  --border: #2f3529;
  --scrollbar: #484f42;
  --text: #ffffff;
  --text-dim: #7a8070;
  --accent: #769569;
  --accent-subtle: rgba(141, 184, 122, 0.15);
  --item-hover: rgba(255, 255, 255, 0.05);
  --on-accent: #ffffff;
  --danger: #e05555;
  --danger-subtle: rgba(224, 85, 85, 0.1);
  --table-border: #575c52;
  --radius: 9px;

  font-family:
    -apple-system, BlinkMacSystemFont, "SF Pro Text", Inter, system-ui,
    sans-serif;
  font-size: 15px;
  line-height: 1;
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

html,
body,
#root {
  height: 100%;
  background: var(--bg);
  overflow: hidden;
}

/* ─── Shell ──────────────────────────────────────────────── */

.app {
  display: flex;
  height: 100vh;
  overflow: hidden;
}

/* ─── Sidebar ────────────────────────────────────────────── */

.sidebar {
  flex-shrink: 0;
  background: var(--sidebar-bg);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  padding: 12px 8px 0;
  gap: 4px;
  overflow: hidden;
  position: relative;
}

.sidebar-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px 12px;
  flex-shrink: 0;
  border-top: 1px solid var(--border);
  margin-top: 4px;
}

.sidebar-footer-left {
  display: flex;
  align-items: center;
  gap: 7px;
}

.sidebar-footer-sort-icon {
  color: var(--text-dim);
  font-size: 12px;
}

.sidebar-footer-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
}

/* ── Folder / list picker ──────────────── */

.folder-picker-wrap {
  position: relative;
}

.sidebar-footer-folder-btn {
  display: flex;
  align-items: center;
  gap: 7px;
  background: transparent;
  border: none;
  border-radius: 6px;
  padding: 4px 8px;
  cursor: pointer;
  transition: background 0.12s;
}

.sidebar-footer-folder-btn:hover {
  background: var(--item-hover);
}

.folder-chevron {
  font-size: 9px;
  color: var(--text-dim);
  transition: transform 0.2s ease;
}

.folder-chevron.open {
  transform: rotate(180deg);
}

.folder-dropdown {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 0;
  background: rgba(28, 28, 30, 0.96);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.6),
    0 2px 8px rgba(0, 0, 0, 0.3);
  padding: 4px;
  min-width: 180px;
  z-index: 200;
}

.folder-dropdown-item {
  display: flex;
  align-items: center;
  gap: 0;
  width: 100%;
  padding: 7px 10px;
  background: transparent;
  border: none;
  border-radius: 7px;
  cursor: pointer;
  text-align: left;
  font-family: inherit;
  font-size: 13px;
  color: var(--text);
  transition: background 0.1s;
}

.folder-dropdown-item:hover {
  background: rgba(255, 255, 255, 0.08);
}

.folder-dropdown-check-col {
  width: 22px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  color: var(--text);
}

.folder-dropdown-name {
  flex: 1;
}

.folder-dropdown-separator {
  height: 1px;
  background: var(--border);
  margin: 3px 4px;
}

/* ── Manage Lists modal ───────────────── */

.manage-lists-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
}

.manage-lists-card {
  position: relative;
  background: var(--sidebar-bg);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  width: 360px;
  overflow: hidden;
}

.manage-lists-close {
  position: absolute;
  top: 14px;
  right: 14px;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  cursor: pointer;
  transition:
    background 0.12s,
    color 0.12s;
}

.manage-lists-close:hover {
  background: var(--item-hover);
  color: var(--text);
}

.manage-lists-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 20px 24px 16px;
  border-bottom: 1px solid var(--border);
}

.manage-lists-header-icon {
  font-size: 16px;
  color: var(--text-dim);
}

.manage-lists-header-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
}

.manage-lists-body {
  display: flex;
  flex-direction: column;
  padding: 8px;
}

.manage-lists-items {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.manage-lists-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 9px 10px;
  border-radius: 8px;
  transition: background 0.1s;
}

.manage-lists-row.active {
  background: var(--accent-subtle);
}

.manage-lists-row-icon {
  font-size: 13px;
  color: var(--text-dim);
  flex-shrink: 0;
  width: 16px;
  text-align: center;
}

.manage-lists-row.active .manage-lists-row-icon {
  color: var(--accent);
}

.manage-lists-row-name {
  flex: 1;
  font-size: 13px;
  font-weight: 500;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.manage-lists-row-actions {
  display: flex;
  align-items: center;
  gap: 2px;
}

.manage-lists-row-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  cursor: pointer;
  font-size: 12px;
  transition:
    background 0.12s,
    color 0.12s;
}

.manage-lists-row-btn:hover {
  background: var(--surface);
  color: var(--text);
}

.manage-lists-row-btn-danger:hover {
  background: var(--danger-subtle);
  color: var(--danger);
}

.manage-lists-rename-input {
  flex: 1;
  background: var(--surface);
  border: 1px solid var(--accent);
  border-radius: 6px;
  outline: none;
  font-size: 13px;
  font-weight: 500;
  font-family: inherit;
  color: var(--text);
  padding: 6px 10px;
  -webkit-user-select: text;
  user-select: text;
}

.manage-lists-divider {
  height: 1px;
  background: var(--border);
  margin: 6px 8px;
}

.manage-lists-add-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 10px 8px;
}

.manage-lists-add-input {
  flex: 1;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  outline: none;
  font-size: 13px;
  font-family: inherit;
  color: var(--text);
  padding: 7px 10px;
  transition: border-color 0.12s;
  -webkit-user-select: text;
  user-select: text;
}

.manage-lists-add-input::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.manage-lists-add-input:focus {
  border-color: var(--accent);
}

.manage-lists-add-btn {
  display: flex;
  align-items: center;
  gap: 5px;
  height: 34px;
  padding: 0 14px;
  background: var(--accent);
  border: none;
  border-radius: 8px;
  color: var(--on-accent);
  cursor: pointer;
  font-family: inherit;
  font-size: 12px;
  font-weight: 600;
  flex-shrink: 0;
  transition:
    opacity 0.15s,
    transform 0.1s;
}

.manage-lists-add-btn:hover {
  opacity: 0.88;
}

.manage-lists-add-btn:active {
  transform: scale(0.97);
}

.manage-lists-add-btn:disabled {
  opacity: 0.4;
  cursor: default;
}

.sidebar-footer-actions {
  display: flex;
  align-items: center;
  gap: 2px;
}

.sidebar-footer-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: transparent;
  border: none;
  border-radius: 8px;
  color: var(--text-dim);
  cursor: pointer;
  font-size: 15px;
  transition:
    background 0.12s,
    color 0.12s;
}

.sidebar-footer-btn:hover {
  background: var(--item-hover);
  color: var(--text);
}

.sidebar-resize-handle {
  position: absolute;
  top: 0;
  right: -3px;
  width: 6px;
  height: 100%;
  cursor: col-resize;
  z-index: 10;
}

.sidebar-resize-handle:hover,
.sidebar-resize-handle:active {
  background: var(--accent);
  opacity: 0.4;
}

.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px 16px;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border);
  margin: 0 -8px 4px;
}

.sidebar-user {
  display: flex;
  align-items: center;
  gap: 8px;
}

.sidebar-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: var(--item-hover);
  border: 1.5px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  overflow: hidden;
  color: var(--text-dim);
  cursor: pointer;
  transition:
    border-color 0.15s,
    box-shadow 0.15s,
    color 0.15s;
}

.sidebar-avatar:hover {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.25);
  color: var(--accent);
}

.sidebar-avatar svg {
  width: 22px;
  height: 22px;
}

.sidebar-identity {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sidebar-display-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  line-height: 1.2;
}

.sidebar-note-count {
  font-size: 11px;
  color: var(--text-dim);
  font-weight: 500;
}

.new-note-fab {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--accent);
  color: var(--on-accent);
  border: none;
  cursor: pointer;
  font-size: 13px;
  flex-shrink: 0;
  transition: opacity 0.15s;
}

.new-note-fab:hover:not(:disabled) {
  opacity: 0.85;
}

.new-note-fab:disabled {
  opacity: 0.35;
  cursor: default;
}

/* ── Sidebar search ─────────────────────── */

.sidebar-search-wrap {
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 0 8px;
  margin: 0 6px 4px;
  height: 32px;
  flex-shrink: 0;
  transition:
    border-color 0.15s,
    box-shadow 0.15s;
}

.sidebar-search-wrap:focus-within {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.18);
}

.sidebar-search-icon {
  font-size: 11px;
  color: var(--text-dim);
  flex-shrink: 0;
}

.sidebar-search-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  font-size: 13px;
  font-family: inherit;
  color: var(--text);
  padding: 0;
  min-width: 0;
  -webkit-user-select: text;
  user-select: text;
}

.sidebar-search-input::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.sidebar-search-clear {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  background: var(--scrollbar);
  border: none;
  border-radius: 50%;
  color: var(--sidebar-bg);
  cursor: pointer;
  font-size: 8px;
  flex-shrink: 0;
  transition: background 0.12s;
}

.sidebar-search-clear:hover {
  background: var(--text-dim);
}

/* ── Search highlight ──────────────────── */

.search-highlight {
  background: rgba(255, 204, 0, 0.35);
  color: inherit;
  border-radius: 2px;
  padding: 0 1px;
}

.note-list.sidebar-focused .note-item.active .search-highlight,
.note-list.sidebar-focused .note-item.selected .search-highlight {
  background: rgba(255, 255, 255, 0.3);
}

.note-list {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 2px 0;
  outline: none;
}

.note-list::-webkit-scrollbar {
  width: 4px;
}
.note-list::-webkit-scrollbar-track {
  background: transparent;
}
.note-list::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 4px;
  transition: background 0.2s;
}
.note-list:hover::-webkit-scrollbar-thumb {
  background: var(--scrollbar);
}

.sidebar-empty {
  font-size: 12px;
  color: var(--text-dim);
  padding: 6px 10px;
}

.note-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
  -webkit-user-select: none;
  user-select: none;
  width: calc(100% - 12px);
  margin: 0 6px;
  padding: 8px 8px;
  background: transparent;
  border: none;
  border-radius: 8px;
  cursor: default;
  text-align: left;
  transition: background 0.1s;
  flex-shrink: 0;
}

.note-item + .note-item {
  position: relative;
}

.note-item + .note-item::before {
  content: "";
  position: absolute;
  top: -2px;
  left: 8px;
  right: 8px;
  height: 1px;
  background: var(--border);
  opacity: 0.55;
}

.note-item:hover {
  background: transparent;
}

.note-item.active,
.note-item.selected {
  background: var(--accent-subtle);
}

.note-list.sidebar-focused .note-item.active,
.note-list.sidebar-focused .note-item.selected {
  background: var(--accent);
}

.note-list.sidebar-focused .note-item.active .note-item-title,
.note-list.sidebar-focused .note-item.selected .note-item-title {
  color: var(--on-accent);
}

.note-list.sidebar-focused .note-item.active .note-item-date,
.note-list.sidebar-focused .note-item.active .note-item-preview,
.note-list.sidebar-focused .note-item.selected .note-item-date,
.note-list.sidebar-focused .note-item.selected .note-item-preview {
  color: rgba(255, 255, 255, 0.65);
}

.note-item-title {
  font-size: 13px;
  font-weight: 500;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.note-item-meta {
  display: flex;
  align-items: baseline;
  gap: 5px;
  font-size: 11px;
  color: var(--text-dim);
  overflow: hidden;
}

.note-item-date {
  flex-shrink: 0;
}

.note-item-preview {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: 0.7;
}

/* ─── Main panel ─────────────────────────────────────────── */

.main {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--main-bg);
  overflow: hidden;
}

/* ─── Empty state ────────────────────────────────────────── */

.empty-state {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.empty-state-text {
  font-size: 14px;
  color: var(--text-dim);
}

/* ─── Editor wrap ────────────────────────────────────────── */

.editor-wrap {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ─── Toolbar ────────────────────────────────────────────── */

.toolbar {
  display: flex;
  align-items: center;
  gap: 3px;
  padding: 12px 16px;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
  background: var(--main-bg);
}

/* ── Aa style picker dropdown ────────────────────────────── */

.style-dropdown-wrap {
  position: relative;
}

.aa-label {
  font-size: 14px;
  font-weight: 700;
  letter-spacing: -0.3px;
}

.style-dropdown {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  background: rgba(28, 28, 30, 0.96);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.6),
    0 2px 8px rgba(0, 0, 0, 0.3);
  padding: 4px;
  min-width: 200px;
  z-index: 200;
}

/* ── Inline formatting row (B I U S) ── */

.style-inline-row {
  display: flex;
  align-items: center;
  padding: 4px 4px 2px;
  gap: 2px;
}

.style-inline-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
  height: 36px;
  background: transparent;
  border: none;
  border-radius: 7px;
  color: var(--text);
  cursor: pointer;
  font-size: 17px;
  font-family: inherit;
  transition:
    background 0.1s,
    color 0.1s;
}

.style-inline-btn:hover {
  background: rgba(255, 255, 255, 0.08);
}

.style-inline-btn.active {
  background: var(--accent-subtle);
  color: var(--accent);
}

.style-inline-bold {
  font-weight: 800;
}

.style-inline-italic {
  font-style: italic;
  font-weight: 500;
}

.style-inline-underline {
  text-decoration: underline;
  text-underline-offset: 2px;
  font-weight: 500;
}

.style-inline-strike {
  text-decoration: line-through;
  font-weight: 500;
}

.style-dropdown-divider {
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
  margin: 3px 6px;
}

/* ── Block style options ── */

.style-option {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 7px 10px;
  background: transparent;
  border: none;
  border-radius: 7px;
  cursor: pointer;
  text-align: left;
  font-family: inherit;
  transition: background 0.1s;
}

.style-option:hover {
  background: rgba(255, 255, 255, 0.08);
}

.style-check {
  width: 14px;
  flex-shrink: 0;
  color: var(--accent);
  font-size: 12px;
  font-weight: 600;
}

.style-label {
  color: var(--text);
}

.style-prefix {
  margin-right: 6px;
  opacity: 0.5;
}

.style-label-heading1 {
  font-size: 22px;
  font-weight: 700;
  letter-spacing: -0.3px;
  line-height: 1;
}

.style-label-heading2 {
  font-size: 16px;
  font-weight: 700;
  line-height: 1;
}

.style-label-heading3 {
  font-size: 14px;
  font-weight: 600;
  line-height: 1;
}

.style-label-paragraph {
  font-size: 13px;
  font-weight: 400;
  line-height: 1;
}

.style-label-monostyled {
  font-family: "SF Mono", "Fira Code", monospace;
  font-size: 13px;
  font-weight: 400;
  line-height: 1;
}

.style-label-bulletList,
.style-label-orderedList {
  font-size: 13px;
  font-weight: 400;
  line-height: 1;
}

.style-label-blockquote {
  font-size: 13px;
  font-weight: 400;
  line-height: 1;
  display: flex;
  align-items: center;
  gap: 8px;
}

.style-label-blockquote::before {
  content: "";
  display: inline-block;
  width: 3px;
  height: 16px;
  background: var(--text-dim);
  border-radius: 1.5px;
  flex-shrink: 0;
}

/* ── Attachment dropdown ─────────────────────────────────── */

.attach-dropdown-wrap {
  position: relative;
}

.attach-dropdown {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  background: rgba(28, 28, 30, 0.96);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.6),
    0 2px 8px rgba(0, 0, 0, 0.3);
  padding: 4px;
  min-width: 210px;
  z-index: 200;
}

.attach-option {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 7px 10px;
  background: transparent;
  border: none;
  border-radius: 7px;
  cursor: pointer;
  text-align: left;
  color: var(--text);
  font-size: 13px;
  transition: background 0.1s;
}

.attach-option:hover {
  background: rgba(255, 255, 255, 0.08);
}

.attach-option-icon {
  width: 16px;
  flex-shrink: 0;
  font-size: 14px;
  color: var(--text-dim);
}

.toolbar-divider {
  width: 1px;
  height: 24px;
  background: var(--border);
  margin: 0 5px;
  flex-shrink: 0;
}

.toolbar-spacer {
  flex: 1;
}

.toolbar-center-group {
  display: flex;
  align-items: center;
  gap: 2px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 3px;
}

.toolbar-btn {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: transparent;
  border: none;
  border-radius: 8px;
  color: var(--text-dim);
  cursor: pointer;
  font-size: 15px;
  transition:
    background 0.12s,
    color 0.12s;
  flex-shrink: 0;
}

/* ─── Toolbar Tooltips ───────────────────────────────────── */

.toolbar-btn[data-tooltip]::before,
.toolbar-btn[data-tooltip]::after {
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.15s;
  z-index: 300;
}

.toolbar-btn[data-tooltip]::before {
  content: "";
  position: absolute;
  top: calc(100% + 5px);
  left: 50%;
  transform: translateX(-50%);
  border: 5px solid transparent;
  border-bottom-color: rgba(30, 34, 29, 0.97);
}

.toolbar-btn[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  top: calc(100% + 14px);
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
  font-size: 12px;
  font-weight: 500;
  letter-spacing: 0.01em;
  color: var(--text);
  background: rgba(30, 34, 29, 0.97);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 7px;
  padding: 5px 10px;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.4),
    0 10px 24px -4px rgba(0, 0, 0, 0.5);
}

.toolbar-btn[data-tooltip]:hover::before,
.toolbar-btn[data-tooltip]:hover::after {
  opacity: 1;
}

/* Right-edge buttons: anchor tooltip to the right */
.toolbar-btn[data-tooltip][data-tooltip-pos="right"]::before {
  left: auto;
  right: 0;
  transform: none;
}

.toolbar-btn[data-tooltip][data-tooltip-pos="right"]::after {
  left: auto;
  right: 0;
  transform: none;
}

.toolbar-btn:hover {
  background: var(--surface);
  color: var(--text);
}

.toolbar-btn.active {
  background: var(--accent-subtle);
  color: var(--accent);
}

.toolbar-btn-danger {
  color: var(--text-dim);
}

.toolbar-btn-danger:hover {
  background: var(--danger-subtle);
  color: var(--danger);
}

/* ── Toolbar search ──────────────────────────────────────── */

.toolbar-search {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 7px;
  color: var(--text);
  font-family: inherit;
  font-size: 13px;
  height: 30px;
  outline: none;
  padding: 0 10px;
  width: 180px;
  transition:
    border-color 0.15s,
    box-shadow 0.15s;
  -webkit-user-select: text;
  user-select: text;
}

.toolbar-search::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.toolbar-search:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.18);
}

/* ─── Editor timestamp ───────────────────────────────────── */

.editor-timestamp {
  flex-shrink: 0;
  text-align: center;
  font-size: 12px;
  color: var(--text-dim);
  padding: 10px 40px 0;
  pointer-events: none;
  user-select: none;
}

.editor-created-by {
  flex-shrink: 0;
  text-align: center;
  font-size: 11px;
  color: var(--text-dim);
  opacity: 0.7;
  padding: 2px 40px 0;
  pointer-events: none;
  user-select: none;
}

/* ─── Tiptap editor area ─────────────────────────────────── */

.editor-scroll-area {
  flex: 1;
  overflow-y: auto;
  position: relative;
}

.editor-scroll-area::-webkit-scrollbar {
  width: 6px;
}
.editor-scroll-area::-webkit-scrollbar-track {
  background: transparent;
}
.editor-scroll-area::-webkit-scrollbar-thumb {
  background: var(--scrollbar);
  border-radius: 4px;
}

.editor {
  min-height: 100%;
}

.ProseMirror,
.ProseMirror * {
  outline: none;
  -webkit-user-select: text;
  user-select: text;
}

.ProseMirror {
  min-height: 100%;
  color: var(--text);
  caret-color: var(--accent);
  padding: 12px 40px 60px;
}

/* Placeholder — only when the entire doc is empty (single node, no content) */
.ProseMirror > *:only-child.is-editor-empty::before {
  content: attr(data-placeholder);
  color: var(--text-dim);
  pointer-events: none;
  float: left;
  height: 0;
  -webkit-user-select: none;
  user-select: none;
}

/* Headings */
.ProseMirror h1 {
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.5px;
  line-height: 1.25;
  min-height: 1.25em;
}

.ProseMirror h2 {
  font-size: 21px;
  font-weight: 700;
  letter-spacing: -0.3px;
  line-height: 1.3;
  min-height: 1.3em;
}

.ProseMirror h3 {
  font-size: 17px;
  font-weight: 600;
  line-height: 1.35;
  min-height: 1.35em;
}

/* Body text */
.ProseMirror p {
  margin-bottom: 6px;
  font-weight: 500 !important;
  line-height: 1;
  min-height: 1em;
}

/* Inline formatting */
.ProseMirror strong {
  font-weight: 800;
}
.ProseMirror em {
  font-style: italic;
}
.ProseMirror u {
  text-decoration: underline;
}
.ProseMirror s {
  text-decoration: line-through;
  color: var(--text-dim);
}

/* Code */
.ProseMirror code {
  font-family: "SF Mono", "Fira Code", monospace;
  font-size: 13px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 1px 5px;
}

.ProseMirror pre {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 0;
  margin: 8px 0;
  overflow-x: auto;
}

.ProseMirror pre code {
  background: none;
  border: none;
  padding: 14px 16px;
  min-height: 1em;
  display: block;
}

/* Blockquote */
.ProseMirror blockquote {
  border-left: 3px solid var(--accent);
  padding-left: 14px;
  margin: 8px 0;
  color: var(--text-dim);
  font-style: italic;
  min-height: 1em;
}

/* Lists */
.ProseMirror ul,
.ProseMirror ol {
  padding-left: 0;
  margin-bottom: 6px;
  list-style: none;
}

.ProseMirror li {
  margin-bottom: 3px;
  line-height: 1.6;
  min-height: 1.6em;
}

.ProseMirror li > p {
  margin-bottom: 0;
}

/* Bullet list – flex layout with unselectable custom markers */
.ProseMirror ul:not([data-type="taskList"]) > li {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
}

.ProseMirror ul:not([data-type="taskList"]) > li::before {
  content: "•";
  flex-shrink: 0;
  width: 22px;
  text-align: center;
  -webkit-user-select: none;
  user-select: none;
}

.ProseMirror ul:not([data-type="taskList"]) > li > p {
  flex: 1;
  min-width: 0;
}

.ProseMirror ul:not([data-type="taskList"]) > li > ul,
.ProseMirror ul:not([data-type="taskList"]) > li > ol {
  flex-basis: 100%;
  margin-left: 22px;
}

/* Ordered list – counter-based markers with flex layout */
.ProseMirror ol {
  counter-reset: list-counter;
}

.ProseMirror ol > li {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  counter-increment: list-counter;
}

.ProseMirror ol > li::before {
  content: counter(list-counter) ".";
  flex-shrink: 0;
  min-width: 22px;
  text-align: right;
  padding-right: 6px;
  -webkit-user-select: none;
  user-select: none;
}

.ProseMirror ol > li > p {
  flex: 1;
  min-width: 0;
}

.ProseMirror ol > li > ul,
.ProseMirror ol > li > ol {
  flex-basis: 100%;
  margin-left: 22px;
}

/* ─── Task list (checkboxes) ─────────────────────────────── */

.ProseMirror ul[data-type="taskList"] {
  list-style: none;
  padding-left: 2px;
}

/* Each task row: checkbox + content side by side */
.ProseMirror ul[data-type="taskList"] > li {
  display: flex !important;
  align-items: flex-start;
  gap: 11px;
  margin-bottom: 6px;
  list-style: none;
  position: relative;
}

.task-drag-handle {
  position: absolute;
  left: -24px;
  top: 5px;
  width: 10px;
  height: 15px;
  opacity: 0;
  cursor: grab;
  transition: opacity 0.15s;
  background-image: radial-gradient(
    circle,
    var(--text-dim) 1.2px,
    transparent 1.2px
  );
  background-size: 5px 5.5px;
  background-repeat: repeat;
}

.task-drag-handle:active {
  cursor: grabbing;
}

.ProseMirror ul[data-type="taskList"] > li:hover > .task-drag-handle {
  opacity: 0.35;
}

.ProseMirror ul[data-type="taskList"] > li > .task-drag-handle:hover {
  opacity: 0.7;
}

/* Label wraps the hidden input + the visual span */
.ProseMirror ul[data-type="taskList"] > li > label {
  display: flex;
  align-items: center;
  flex-shrink: 0;
  margin-top: 2px;
  cursor: pointer;
  -webkit-user-select: none;
  user-select: none;
}

/* Hide the native checkbox entirely */
.ProseMirror ul[data-type="taskList"] > li > label > input[type="checkbox"] {
  display: none;
}

/* The span next to the hidden input is our visual circle */
.ProseMirror ul[data-type="taskList"] > li > label > span {
  display: block;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid var(--scrollbar);
  flex-shrink: 0;
  cursor: pointer;
  position: relative;
  transition:
    border-color 0.15s,
    background 0.15s;
}

.ProseMirror ul[data-type="taskList"] > li > label:hover > span {
  border-color: var(--accent);
}

/* Checked: fill the circle with accent */
.ProseMirror
  ul[data-type="taskList"]
  > li
  > label
  > input[type="checkbox"]:checked
  + span {
  background: var(--accent);
  border-color: var(--accent);
}

/* Checkmark drawn in the span::after */
.ProseMirror
  ul[data-type="taskList"]
  > li
  > label
  > input[type="checkbox"]:checked
  + span::after {
  content: "";
  position: absolute;
  top: 5px;
  left: 4px;
  width: 10px;
  height: 6px;
  border: 2px solid var(--on-accent);
  border-top: none;
  border-right: none;
  transform: rotate(-48deg);
}

/* Task item text content */
.ProseMirror ul[data-type="taskList"] > li > div {
  flex: 1;
  min-height: 1.65em;
}

.ProseMirror ul[data-type="taskList"] > li > div > p {
  line-height: 1.65;
  margin-bottom: 0;
}

/* Hide selection highlight on list structure (gaps, bullets, numbers) */
.ProseMirror ul::selection,
.ProseMirror ol::selection,
.ProseMirror li::selection,
.ProseMirror ul[data-type="taskList"] > li > div::selection {
  background: transparent;
}

/* Strike completed task text */
.ProseMirror ul[data-type="taskList"] > li[data-checked="true"] > div {
  color: var(--text-dim);
  text-decoration: line-through;
  text-decoration-color: var(--scrollbar);
}

/* ─── Table ──────────────────────────────────────────────── */

.ProseMirror .tableWrapper {
  overflow-x: auto;
  margin: 10px 0;
}

.ProseMirror table {
  border-collapse: collapse;
  width: 100%;
  table-layout: fixed;
}

.ProseMirror th,
.ProseMirror td {
  border: 1px solid var(--table-border);
  padding: 8px 10px;
  font-size: 13px;
  line-height: 1.5;
  vertical-align: top;
  min-width: 80px;
  position: relative;
  -webkit-user-select: text;
  user-select: text;
}

.ProseMirror th {
  background: var(--surface);
  font-weight: 600;
  color: var(--text);
}

.ProseMirror td {
  font-weight: 400;
}

.ProseMirror th > p,
.ProseMirror td > p {
  margin-bottom: 0;
}

/* Cell selection */
.ProseMirror .selectedCell::after {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--accent-subtle);
  pointer-events: none;
  z-index: 1;
}

/* Column resize handle */
.ProseMirror .column-resize-handle {
  position: absolute;
  right: -2px;
  top: 0;
  bottom: -2px;
  width: 4px;
  background: var(--accent);
  pointer-events: none;
  z-index: 2;
}

.ProseMirror.resize-cursor {
  cursor: col-resize;
}

/* ─── Table floating toolbar ────────────────────────────── */

.table-toolbar {
  position: absolute;
  z-index: 50;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 6px;
  background: rgba(28, 28, 30, 0.96);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.5),
    0 1px 4px rgba(0, 0, 0, 0.3);
  width: fit-content;
  flex-wrap: wrap;
  pointer-events: auto;
}

.table-toolbar-group {
  display: flex;
  align-items: center;
  gap: 2px;
}

.table-toolbar-btn {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 5px 8px;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  cursor: pointer;
  font-size: 11px;
  font-family: inherit;
  white-space: nowrap;
  transition:
    background 0.1s,
    color 0.1s;
}

.table-toolbar-btn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.table-toolbar-btn-danger:hover {
  background: var(--danger-subtle);
  color: var(--danger);
}

.table-toolbar-label {
  font-size: 11px;
  line-height: 1;
}

.table-toolbar-divider {
  width: 1px;
  height: 20px;
  background: rgba(255, 255, 255, 0.08);
  margin: 0 2px;
  flex-shrink: 0;
}

/* ─── Resizable image ────────────────────────────────────── */

.resizable-image-wrapper {
  display: block;
  margin: 8px 0;
}

.resizable-image-container {
  position: relative;
  display: inline-block;
  max-width: 100%;
  border-radius: 8px;
  line-height: 0;
}

.resizable-image-container img {
  display: block;
  width: 100%;
  height: auto;
  border-radius: 8px;
  pointer-events: none;
  -webkit-user-select: none;
  user-select: none;
}

.resizable-image-container.selected {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px var(--accent-subtle);
}

.resize-handle {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 8px;
  cursor: ew-resize;
  z-index: 10;
}

.resize-handle::after {
  content: "";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 32px;
  max-height: 60%;
  border-radius: 2px;
  background: var(--accent);
  opacity: 0.8;
  transition: opacity 0.12s;
}

.resize-handle:hover::after {
  opacity: 1;
}

.resize-handle-left {
  left: -6px;
}

.resize-handle-left::after {
  left: 2px;
}

.resize-handle-right {
  right: -6px;
}

.resize-handle-right::after {
  right: 2px;
}

/* ── File attachment block ──────────────── */

.file-attachment-wrapper {
  display: block;
  margin: 8px 0;
}

.file-attachment-block {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  cursor: pointer;
  transition:
    background 0.15s,
    border-color 0.15s;
  user-select: none;
  -webkit-user-select: none;
}

.file-attachment-block:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.14);
}

.file-attachment-block.selected {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px var(--accent-subtle);
}

.file-attachment-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--danger-subtle);
  color: var(--danger);
  font-size: 16px;
  flex-shrink: 0;
}

.file-attachment-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.file-attachment-name {
  font-size: 13px;
  font-weight: 500;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.file-attachment-size {
  font-size: 11px;
  color: var(--text-dim);
}

.file-attachment-download {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  margin-left: auto;
  flex-shrink: 0;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  font-size: 14px;
  cursor: pointer;
  transition:
    background 0.15s,
    color 0.15s;
}

.file-attachment-download:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

/* Horizontal rule */
.ProseMirror hr {
  border: none;
  border-top: 1px solid var(--border);
  margin: 16px 0;
}

/* ─── Pinned section divider & label ─────────────────────── */

.note-list-section-label {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-dim);
  padding: 6px 10px 6px;
  flex-shrink: 0;
  cursor: pointer;
  user-select: none;
  border-radius: 4px;
}

.note-list-section-label:hover {
  color: var(--text);
}

.note-list-section-label svg {
  font-size: 10px;
  opacity: 0.7;
}

.section-chevron {
  transition: transform 0.22s ease;
}

.section-chevron.collapsed {
  transform: rotate(-90deg);
}

.pinned-accordion {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.25s ease;
}

.pinned-accordion.expanded {
  grid-template-rows: 1fr;
}

.pinned-accordion-inner {
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.pinned-accordion.expanded .pinned-accordion-inner {
  opacity: 1;
}

.note-list-divider {
  height: 1.5px;
  background: #3b4431;
  margin: 4px -6px;
  flex-shrink: 0;
}

/* ─── Context Menu ───────────────────────────────────────── */

.context-menu {
  position: fixed;
  z-index: 9999;
  min-width: 160px;
  padding: 4px;
  list-style: none;
  background: rgba(30, 34, 29, 0.96);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.4),
    0 10px 24px -4px rgba(0, 0, 0, 0.5);
  user-select: none;
}

.context-menu-item {
  display: flex;
  align-items: center;
  padding: 7px 11px;
  border-radius: 7px;
  font-size: 13px;
  color: var(--text);
  cursor: pointer;
  transition: background 0.1s;
}

.context-menu-item:hover {
  background: var(--surface);
}

.context-menu-item-disabled {
  opacity: 0.35;
  cursor: default;
}

.context-menu-item-disabled:hover {
  background: transparent;
}

.context-menu-item-danger {
  color: var(--danger);
}

.context-menu-item-danger:hover {
  background: var(--danger-subtle);
}

.context-menu-separator {
  height: 1px;
  background: var(--border);
  margin: 3px 4px;
}

/* ─── About Modal ────────────────────────────────────────── */

.about-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
}

.about-close {
  position: absolute;
  top: 14px;
  right: 14px;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  cursor: pointer;
  transition:
    background 0.12s,
    color 0.12s;
}

.about-close:hover {
  background: var(--item-hover);
  color: var(--text);
}

.about-logo {
  margin-bottom: 2px;
}

.about-logo img {
  border-radius: 18px;
}

.about-name {
  font-family: "Grenze Gotisch", serif;
  font-size: 30px;
  font-weight: 500;
  letter-spacing: 0.02em;
  color: var(--text);
  line-height: 1;
}

.about-version {
  font-size: 14px;
  color: var(--text-dim);
  font-weight: 400;
}

.about-author-link {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 10px;
  background: none;
  border: none;
  padding: 0;
  font-family: inherit;
  font-size: 13px;
  color: var(--text-dim);
  cursor: pointer;
}

.about-author-link:hover {
  text-decoration: underline;
}

/* ── About card wrap (for bug report expansion) ── */

.about-card-wrap {
  display: flex;
  align-items: stretch;
  gap: 0;
  position: relative;
}

.about-card-wrap .about-card {
  position: relative;
  background: rgba(28, 31, 26, 0.97);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  padding: 44px 48px 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  min-width: 280px;
  flex-shrink: 0;
}

.about-bug-report-btn {
  display: flex;
  align-items: center;
  gap: 7px;
  margin-top: 16px;
  background: transparent;
  border: none;
  padding: 0;
  color: var(--text-dim);
  font-family: inherit;
  font-size: 13px;
  font-weight: 400;
  cursor: pointer;
}

.about-bug-report-btn:hover {
  text-decoration: underline;
}

.about-bug-report-icon {
  font-size: 12px;
}

/* ── Bug report panel ────────────────────── */

.bug-report-panel {
  width: 0;
  opacity: 0;
  overflow: hidden;
  background: var(--sidebar-bg);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  padding: 0;
  transition:
    width 0.32s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.24s ease,
    padding 0.32s cubic-bezier(0.4, 0, 0.2, 1),
    margin 0.32s cubic-bezier(0.4, 0, 0.2, 1);
  margin-left: 0;
  pointer-events: none;
}

.about-card-wrap.bug-report-open .bug-report-panel {
  width: 320px;
  opacity: 1;
  padding: 24px 20px;
  margin-left: 12px;
  pointer-events: auto;
  overflow: hidden;
}

.bug-report-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 18px;
  padding: 0 2px;
  white-space: nowrap;
}

.bug-report-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1;
}

.bug-report-field {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.bug-report-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
  white-space: nowrap;
}

.bug-report-required {
  color: var(--danger);
  font-weight: 600;
}

.bug-report-hint {
  font-size: 11px;
  color: var(--accent);
  font-weight: 500;
  margin-top: -2px;
}

.bug-report-input,
.bug-report-textarea {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-family: inherit;
  font-size: 13px;
  outline: none;
  padding: 8px 10px;
  transition:
    border-color 0.15s,
    box-shadow 0.15s;
  -webkit-user-select: text;
  user-select: text;
  width: 100%;
}

.bug-report-input:focus,
.bug-report-textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.18);
}

.bug-report-input::placeholder,
.bug-report-textarea::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.bug-report-textarea {
  resize: vertical;
  min-height: 80px;
  line-height: 1.5;
}

.bug-report-input-error {
  border-color: var(--danger) !important;
  box-shadow: 0 0 0 3px rgba(224, 85, 85, 0.15) !important;
}

.bug-report-error-text {
  font-size: 11px;
  color: var(--danger);
  font-weight: 500;
}

.bug-report-submit-btn {
  margin-top: 18px;
  width: 100%;
  height: 36px;
  background: var(--accent);
  border: none;
  border-radius: 9px;
  color: var(--on-accent);
  cursor: pointer;
  font-family: inherit;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.1px;
  transition:
    opacity 0.15s,
    transform 0.1s;
  flex-shrink: 0;
  white-space: nowrap;
  display: flex;
  align-items: center;
  justify-content: center;
}

.bug-report-submit-btn:hover {
  opacity: 0.88;
}

.bug-report-submit-btn:active {
  transform: scale(0.97);
}

.bug-report-submit-btn:disabled {
  opacity: 0.65;
  cursor: default;
}

/* ── View Bug Reports panel ──────────────────── */

.view-bugs-panel {
  width: 0;
  opacity: 0;
  overflow: hidden;
  background: var(--sidebar-bg);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  padding: 0;
  transition:
    width 0.32s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.24s ease,
    padding 0.32s cubic-bezier(0.4, 0, 0.2, 1),
    margin 0.32s cubic-bezier(0.4, 0, 0.2, 1);
  margin-left: 0;
  pointer-events: none;
}

.about-card-wrap.view-bugs-open .view-bugs-panel {
  width: 360px;
  opacity: 1;
  padding: 24px 20px;
  margin-left: 12px;
  pointer-events: auto;
  overflow-y: auto;
}

.view-bugs-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 14px;
  padding: 0 2px;
  white-space: nowrap;
}

.view-bugs-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px 0;
}

.view-bugs-empty {
  font-size: 13px;
  color: var(--text-dim);
  text-align: center;
  padding: 24px 0;
}

.view-bugs-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  overflow-y: auto;
  max-height: 400px;
}

.view-bugs-item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;
  text-align: left;
  font-family: inherit;
  color: var(--text);
  transition:
    background 0.12s,
    border-color 0.12s;
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 100%;
}

.view-bugs-item:hover {
  border-color: var(--accent-subtle);
}

.view-bugs-item.expanded {
  border-color: var(--accent);
}

.view-bugs-item-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.view-bugs-item-desc {
  font-size: 13px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
  flex: 1;
}

.view-bugs-item-chevron {
  font-size: 10px;
  color: var(--text-dim);
  transition: transform 0.2s ease;
  flex-shrink: 0;
}

.view-bugs-item-chevron.open {
  transform: rotate(180deg);
}

.view-bugs-item-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 11px;
  color: var(--text-dim);
  white-space: nowrap;
}

.view-bugs-item-details {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.view-bugs-detail-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.view-bugs-detail-text {
  font-size: 13px;
  color: var(--text);
  line-height: 1.5;
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
}

/* ─── Account Modal ──────────────────────────────────────── */

.account-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
}

.account-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 36px 24px 24px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  gap: 10px;
}

.account-display-name {
  font-size: 17px;
  font-weight: 600;
  color: var(--text);
  line-height: 1.2;
}

.account-email {
  font-size: 12px;
  color: var(--text-dim);
  margin-top: -4px;
}

.account-body {
  display: flex;
  flex-direction: column;
  padding: 8px;
}

.account-section-label {
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-dim);
  padding: 10px 10px 4px;
}

.account-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 9px 10px;
  border-radius: 8px;
  font-size: 13px;
  color: var(--text);
}

.account-row-label {
  color: var(--text-dim);
  font-size: 12px;
}

.account-row-value {
  font-size: 13px;
  color: var(--text);
}

.account-divider {
  height: 1px;
  background: var(--border);
  margin: 4px 0;
}

.account-display-name-input {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  outline: none;
  font-size: 13px;
  font-family: inherit;
  color: var(--text);
  text-align: right;
  padding: 4px 8px;
  width: 150px;
  transition: border-color 0.12s;
  -webkit-user-select: text;
  user-select: text;
}

.account-display-name-input::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.account-display-name-input:focus {
  border-color: var(--accent);
}

.account-save-btn {
  color: var(--accent) !important;
  font-weight: 500;
}

.account-row-end {
  justify-content: flex-end;
  padding-top: 2px;
  padding-bottom: 6px;
}

.account-change-password-btn {
  background: transparent;
  border: none;
  font-size: 11px;
  font-family: inherit;
  color: var(--text-dim);
  cursor: pointer;
  padding: 0;
}

.account-change-password-btn:hover {
  color: var(--text);
  text-decoration: underline;
}

.account-signout-row {
  display: flex;
  justify-content: center;
  padding: 6px 10px 4px;
}

.account-signout-btn {
  background: transparent;
  border: none;
  font-size: 13px;
  font-family: inherit;
  color: var(--danger);
  cursor: pointer;
  padding: 4px 8px;
}

.account-signout-btn:hover {
  text-decoration: underline;
}

.account-close {
  position: absolute;
  top: 14px;
  right: 14px;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  cursor: pointer;
  transition:
    background 0.12s,
    color 0.12s;
}

.account-close:hover {
  background: var(--item-hover);
  color: var(--text);
}

/* ── Account card wrap (for avatar picker expansion) ── */

.account-card-wrap {
  display: flex;
  align-items: stretch;
  gap: 0;
  position: relative;
}

.account-card-wrap .account-card {
  position: relative;
  background: var(--sidebar-bg);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  width: 340px;
  overflow: hidden;
  flex-shrink: 0;
}

/* ── Avatar large (clickable) ─────────── */

.account-avatar-large {
  width: 96px;
  height: 96px;
  border-radius: 50%;
  background: var(--item-hover);
  border: 2.5px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-dim);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition:
    border-color 0.18s,
    box-shadow 0.18s;
}

.account-avatar-large:hover {
  border-color: var(--accent);
  box-shadow: 0 0 0 4px rgba(141, 184, 122, 0.2);
}

.account-avatar-large > svg {
  width: 54px;
  height: 54px;
}

.account-avatar-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

.sidebar-avatar-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* ── Hover overlay ────────────────────── */

.account-avatar-hover-overlay {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.55);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3px;
  opacity: 0;
  transition: opacity 0.18s;
  pointer-events: none;
}

.account-avatar-large:hover .account-avatar-hover-overlay {
  opacity: 1;
}

.account-avatar-hover-icon {
  font-size: 16px;
  color: #fff;
}

.account-avatar-hover-text {
  font-size: 10px;
  font-weight: 600;
  color: #fff;
  letter-spacing: 0.02em;
  text-align: center;
  line-height: 1.3;
}

/* ── Avatar picker panel ──────────────── */

.avatar-picker-panel {
  width: 0;
  opacity: 0;
  overflow: hidden;
  background: var(--sidebar-bg);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  padding: 0;
  transition:
    width 0.32s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.24s ease,
    padding 0.32s cubic-bezier(0.4, 0, 0.2, 1),
    margin 0.32s cubic-bezier(0.4, 0, 0.2, 1);
  margin-left: 0;
  pointer-events: none;
}

.account-card-wrap.picker-open .avatar-picker-panel {
  width: 260px;
  opacity: 1;
  padding: 20px 16px;
  margin-left: 12px;
  pointer-events: auto;
  overflow: hidden;
}

.avatar-picker-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 14px;
  padding: 0 2px;
  white-space: nowrap;
}

.avatar-picker-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  flex: 1;
  overflow: visible;
  padding: 6px;
}

.avatar-picker-grid::-webkit-scrollbar {
  width: 4px;
}
.avatar-picker-grid::-webkit-scrollbar-track {
  background: transparent;
}
.avatar-picker-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar);
  border-radius: 4px;
}

.avatar-picker-option {
  aspect-ratio: 1;
  border-radius: 50%;
  border: 2.5px solid transparent;
  background: var(--surface);
  cursor: pointer;
  overflow: hidden;
  padding: 0;
  transition:
    border-color 0.15s,
    transform 0.15s,
    box-shadow 0.15s;
}

.avatar-picker-option:hover {
  transform: scale(1.08);
  border-color: rgba(255, 255, 255, 0.15);
}

.avatar-picker-option.selected {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.25);
  transform: scale(1.05);
}

.avatar-picker-option img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  display: block;
}

.avatar-picker-save-btn {
  margin-top: 14px;
  width: 100%;
  height: 36px;
  background: var(--accent);
  border: none;
  border-radius: 9px;
  color: var(--on-accent);
  cursor: pointer;
  font-family: inherit;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.1px;
  transition:
    opacity 0.15s,
    transform 0.1s;
  flex-shrink: 0;
  white-space: nowrap;
}

.avatar-picker-save-btn:hover {
  opacity: 0.88;
}

.avatar-picker-save-btn:active {
  transform: scale(0.97);
}

.avatar-picker-save-btn:disabled {
  opacity: 0.45;
  cursor: default;
}

/* ── Account password edit ────────────── */

.account-password-edit {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 4px 10px 8px;
}

.account-password-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.account-password-input {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  outline: none;
  font-size: 13px;
  font-family: inherit;
  color: var(--text);
  padding: 6px 32px 6px 10px;
  width: 100%;
  transition: border-color 0.12s;
  -webkit-user-select: text;
  user-select: text;
}

.account-password-input:focus {
  border-color: var(--accent);
}

.account-password-input::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.account-password-input::-webkit-caps-lock-indicator {
  filter: invert(1) opacity(0.45);
}

.account-password-toggle {
  position: absolute;
  right: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: var(--text-dim);
  cursor: pointer;
  padding: 0;
  transition: color 0.12s;
}

.account-password-toggle:hover {
  color: var(--text);
}

.account-password-error {
  font-size: 11.5px;
  color: var(--danger);
  padding: 0 2px;
  line-height: 1.4;
}

.account-password-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding-top: 2px;
}

/* ─── Settings Modal ─────────────────────────────────────── */

.settings-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
}

.settings-card {
  position: relative;
  background: var(--sidebar-bg);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2);
  width: 360px;
  overflow: hidden;
}

.settings-close {
  position: absolute;
  top: 14px;
  right: 14px;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-dim);
  cursor: pointer;
  transition:
    background 0.12s,
    color 0.12s;
}

.settings-close:hover {
  background: var(--item-hover);
  color: var(--text);
}

.settings-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 20px 24px 16px;
  border-bottom: 1px solid var(--border);
}

.settings-header-icon {
  font-size: 16px;
  color: var(--text-dim);
}

.settings-header-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
}

.settings-body {
  display: flex;
  flex-direction: column;
  padding: 8px;
}

.settings-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 10px;
  border-radius: 8px;
  font-size: 13px;
  color: var(--text);
}

.settings-row-label {
  font-size: 13px;
  color: var(--text);
}

.settings-select {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text);
  font-family: inherit;
  font-size: 12px;
  padding: 5px 24px 5px 10px;
  outline: none;
  cursor: pointer;
  transition: border-color 0.12s;
  -webkit-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%237a8070' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 8px center;
}

.settings-select:focus {
  border-color: var(--accent);
}

.settings-select option {
  background: var(--sidebar-bg);
  color: var(--text);
}

.settings-divider {
  height: 1px;
  background: var(--border);
  margin: 4px 8px;
}

.settings-checkbox-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.1s;
}

.settings-checkbox-row:hover {
  background: var(--item-hover);
}

.settings-checkbox-text {
  display: flex;
  flex-direction: column;
  gap: 3px;
  flex: 1;
  min-width: 0;
}

.settings-checkbox-label {
  font-size: 13px;
  font-weight: 500;
  color: var(--text);
}

.settings-checkbox-desc {
  font-size: 11px;
  color: var(--text-dim);
  line-height: 1.4;
}

.settings-checkbox-input {
  display: none;
}

.settings-checkbox-circle {
  display: block;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid var(--scrollbar);
  flex-shrink: 0;
  cursor: pointer;
  position: relative;
  transition:
    border-color 0.15s,
    background 0.15s;
}

.settings-checkbox-row:hover .settings-checkbox-circle {
  border-color: var(--accent);
}

.settings-checkbox-input:checked + .settings-checkbox-circle {
  background: var(--accent);
  border-color: var(--accent);
}

.settings-checkbox-input:checked + .settings-checkbox-circle::after {
  content: "";
  position: absolute;
  top: 5px;
  left: 4px;
  width: 10px;
  height: 6px;
  border: 2px solid var(--on-accent);
  border-top: none;
  border-right: none;
  transform: rotate(-48deg);
}

.settings-appearance-section {
  padding: 4px 10px 12px;
}

.settings-theme-cards {
  display: flex;
  gap: 14px;
  margin-top: 10px;
}

.settings-theme-card {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
}

.stp {
  width: 100%;
  aspect-ratio: 16 / 10;
  border-radius: 8px;
  display: flex;
  overflow: hidden;
  border: 2px solid transparent;
  transition: border-color 0.15s;
}

.settings-theme-card-active .stp {
  border-color: var(--accent);
}

.stp-sidebar-area {
  width: 32%;
  display: flex;
  flex-direction: column;
  gap: 5px;
  padding: 9px 6px;
}

.stp-main-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 5px;
  padding: 10px 9px;
}

.stp-item {
  height: 7px;
  border-radius: 3px;
}

.stp-item-active {
  border-radius: 3px;
}

.stp-title-line {
  height: 5px;
  width: 55%;
  border-radius: 2px;
  margin-bottom: 2px;
}

.stp-body-line {
  height: 3px;
  width: 82%;
  border-radius: 2px;
}

.stp-body-line-short {
  width: 52%;
}

/* Dark theme preview */
.stp-dark {
  background: #1a1e19;
}

.stp-dark .stp-sidebar-area {
  background: #1f231e;
  border-right: 1px solid #2f3529;
}

.stp-dark .stp-item {
  background: rgba(255, 255, 255, 0.06);
}

.stp-dark .stp-item-active {
  background: rgba(141, 184, 122, 0.3);
}

.stp-dark .stp-title-line {
  background: rgba(255, 255, 255, 0.18);
}

.stp-dark .stp-body-line {
  background: rgba(255, 255, 255, 0.07);
}

/* Light theme preview */
.stp-light {
  background: #fafaf8;
}

.stp-light .stp-sidebar-area {
  background: #f0f0ee;
  border-right: 1px solid #e0e0dc;
}

.stp-light .stp-item {
  background: rgba(0, 0, 0, 0.07);
}

.stp-light .stp-item-active {
  background: rgba(141, 184, 122, 0.28);
}

.stp-light .stp-title-line {
  background: rgba(0, 0, 0, 0.16);
}

.stp-light .stp-body-line {
  background: rgba(0, 0, 0, 0.08);
}

/* Matcha theme preview */
.stp-matcha {
  background: #e5e8d4;
}

.stp-matcha .stp-sidebar-area {
  background: #dbe0c6;
  border-right: 1px solid #c3c8ad;
}

.stp-matcha .stp-item {
  background: rgba(60, 80, 40, 0.1);
}

.stp-matcha .stp-item-active {
  background: rgba(95, 138, 74, 0.35);
}

.stp-matcha .stp-title-line {
  background: rgba(54, 61, 44, 0.22);
}

.stp-matcha .stp-body-line {
  background: rgba(54, 61, 44, 0.1);
}

.settings-theme-card-label {
  font-size: 12px;
  color: var(--text);
  font-weight: 500;
}

.settings-theme-indicator {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid var(--scrollbar);
  display: flex;
  align-items: center;
  justify-content: center;
  transition:
    border-color 0.15s,
    background 0.15s;
}

.settings-theme-indicator-active {
  background: var(--accent);
  border-color: var(--accent);
}

/* ─── Inline Rename Input ────────────────────────────────── */

.note-rename-input {
  width: 100%;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--accent);
  border-radius: 0;
  outline: none;
  font-size: 13px;
  font-weight: 500;
  font-family: inherit;
  color: var(--text);
  padding: 0 0 1px 0;
  line-height: 1.4;
  -webkit-user-select: text;
  user-select: text;
}

/* ─── Auth page ──────────────────────────────────────────── */

.auth-overlay {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background: var(--bg);
}

.auth-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 340px;
  background: var(--sidebar-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 36px 32px 32px;
  gap: 6px;
  position: relative;
  overflow: hidden;
  animation: auth-card-in 0.45s cubic-bezier(0.34, 1.1, 0.64, 1) both;
}

.auth-card-exiting {
  animation: auth-card-out 0.48s cubic-bezier(0.4, 0, 1, 1) forwards !important;
}

/* ── Success overlay ───────────────────── */

.auth-success-overlay {
  position: absolute;
  inset: 0;
  border-radius: 16px;
  background: var(--sidebar-bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  z-index: 10;
  animation: auth-overlay-in 0.28s ease-out both;
}

.auth-check-circle {
  width: 58px;
  height: 58px;
  border-radius: 50%;
  background: var(--accent);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: auth-check-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  transform: scale(0);
  box-shadow: 0 0 0 0 rgba(141, 184, 122, 0.4);
}

.auth-check-circle::after {
  content: "";
  position: absolute;
  width: 58px;
  height: 58px;
  border-radius: 50%;
  background: transparent;
  animation: auth-check-ripple 0.7s ease-out 0.25s both;
}

.auth-check-path {
  stroke-dasharray: 32;
  stroke-dashoffset: 32;
  animation: auth-draw-check 0.38s ease-out 0.22s forwards;
}

.auth-success-text {
  font-size: 15px;
  font-weight: 500;
  color: var(--text);
  letter-spacing: 0.1px;
  opacity: 0;
  transform: translateY(7px);
  animation: auth-text-in 0.32s ease-out 0.38s forwards;
}

/* ── Loading spinner ───────────────────── */

.auth-btn-spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.28);
  border-top-color: #fff;
  border-radius: 50%;
  animation: auth-spin 0.65s linear infinite;
}

.auth-btn-loading {
  opacity: 0.85;
  cursor: default;
}

.auth-logo {
  margin-bottom: 0px;
  opacity: 0.92;
}

.auth-logo img {
  display: block;
  border-radius: 14px;
}

.auth-title {
  font-size: 36px;
  font-weight: 500;
  font-family: "Grenze Gotisch", serif;
  color: var(--text);
  letter-spacing: 0;
}

.auth-form {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 30px;
  margin-top: 8px;
}

.auth-field {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.auth-label-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.auth-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-dim);
  letter-spacing: 0.2px;
  -webkit-user-select: none;
  user-select: none;
}

.auth-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.auth-input {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-family: inherit;
  font-size: 14px;
  height: 38px;
  outline: none;
  padding: 0 12px;
  transition:
    border-color 0.15s,
    box-shadow 0.15s;
  -webkit-user-select: text;
  user-select: text;
  width: 100%;
}

.auth-input-password {
  padding-right: 40px;
}

.auth-input::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.auth-input:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.18);
}

.auth-password-toggle {
  position: absolute;
  right: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: var(--text-dim);
  cursor: pointer;
  padding: 0;
  transition: color 0.12s;
}

.auth-password-toggle:hover {
  color: var(--text);
}

.auth-submit-btn {
  margin-top: 4px;
  width: 100%;
  height: 40px;
  background: var(--accent);
  border: none;
  border-radius: 9px;
  color: var(--on-accent);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.1px;
  transition:
    opacity 0.15s,
    transform 0.1s;
}

.auth-submit-btn:hover {
  opacity: 0.88;
}

.auth-submit-btn:active {
  transform: scale(0.98);
}

.auth-forgot-btn {
  background: none;
  border: none;
  color: var(--text-dim);
  cursor: pointer;
  font-family: inherit;
  font-size: 12px;
  padding: 0;
  transition: color 0.12s;
}

.auth-forgot-btn:hover {
  color: var(--text);
}

.auth-signup-row {
  font-size: 13px;
  color: var(--text-dim);
  text-align: center;
  -webkit-user-select: none;
  user-select: none;
}

.auth-signup-link {
  background: none;
  border: none;
  color: var(--accent);
  cursor: pointer;
  font-family: inherit;
  font-size: 13px;
  padding: 0;
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: opacity 0.12s;
}

.auth-signup-link:hover {
  opacity: 0.8;
}

/* ── Auth remember-me ──────────────────── */

.auth-remember-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: -14px;
  cursor: pointer;
}

.auth-remember-checkbox {
  width: 15px;
  height: 15px;
  accent-color: var(--accent);
  cursor: pointer;
  flex-shrink: 0;
}

.auth-remember-label {
  font-size: 13px;
  color: var(--text-dim);
  -webkit-user-select: none;
  user-select: none;
}

/* ── Auth error / info banners ─────────── */

.auth-error {
  background: var(--danger-subtle);
  border: 1px solid rgba(224, 85, 85, 0.25);
  border-radius: 8px;
  color: var(--danger);
  font-size: 13px;
  line-height: 1.45;
  padding: 9px 12px;
  text-align: center;
  margin-top: -8px;
}

.auth-info {
  background: rgba(141, 184, 122, 0.1);
  border: 1px solid rgba(141, 184, 122, 0.28);
  border-radius: 8px;
  color: var(--accent);
  font-size: 13px;
  line-height: 1.45;
  padding: 9px 12px;
  text-align: center;
  margin-top: -8px;
}

/* ── Auth keyframes ────────────────────── */

@keyframes auth-card-in {
  from {
    opacity: 0;
    transform: scale(0.94) translateY(14px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes auth-card-out {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.93) translateY(-18px);
  }
}

@keyframes auth-overlay-in {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes auth-check-pop {
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
}

@keyframes auth-check-ripple {
  from {
    box-shadow: 0 0 0 0 rgba(141, 184, 122, 0.45);
  }
  to {
    box-shadow: 0 0 0 18px rgba(141, 184, 122, 0);
  }
}

@keyframes auth-draw-check {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes auth-text-in {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes auth-spin {
  to {
    transform: rotate(360deg);
  }
}

/* ─── Sidebar To-do List button ──────────────────────────── */

.sidebar-todo-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  width: calc(100% - 12px);
  margin: 0 6px 2px;
  padding: 8px 10px;
  background: transparent;
  border: 1px solid var(--accent);
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  font-family: inherit;
  font-size: 13px;
  font-weight: 500;
  color: var(--accent);
  transition: background 0.1s;
  flex-shrink: 0;
}

.sidebar-todo-btn:hover {
  background: var(--item-hover);
}

.sidebar-todo-btn.active {
  background: var(--accent-subtle);
}

.sidebar-todo-btn-icon {
  font-size: 14px;
  color: var(--accent);
}

.sidebar-todo-btn.active .sidebar-todo-btn-icon {
  color: var(--accent);
}

/* ─── Todo List View ─────────────────────────────────────── */

.todo-view {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 32px 40px 40px;
  overflow-y: auto;
  gap: 24px;
}

.todo-view::-webkit-scrollbar {
  width: 6px;
}
.todo-view::-webkit-scrollbar-track {
  background: transparent;
}
.todo-view::-webkit-scrollbar-thumb {
  background: var(--scrollbar);
  border-radius: 4px;
}

.todo-title {
  font-size: 28px;
  font-weight: 700;
  color: var(--text);
  letter-spacing: -0.5px;
  flex-shrink: 0;
}

/* ── Long-term Goals section ─────────── */

.todo-goals-section {
  background: var(--sidebar-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  flex-shrink: 0;
}

.todo-goals-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
  transition: background 0.1s;
}

.todo-goals-header:hover {
  background: var(--item-hover);
}

.todo-goals-label {
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
}

.todo-goals-chevron {
  font-size: 12px;
  color: var(--text-dim);
  transition: transform 0.22s ease;
}

.todo-goals-chevron.collapsed {
  transform: rotate(-90deg);
}

.todo-goals-body {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.25s ease;
}

.todo-goals-body.expanded {
  padding-top: 5px;
  grid-template-rows: 1fr;
}

.todo-goals-inner {
  overflow: hidden;
  padding: 0 20px 16px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* ── Checkbox items (shared goals + tasks) ── */

.todo-check-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 2px 0;
  user-select: none;
  -webkit-user-select: none;
}

.todo-check-label {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  flex: 1;
  min-width: 0;
  padding: 2px 0;
}

.todo-check-toggle {
  display: flex;
  align-items: center;
  cursor: pointer;
  flex-shrink: 0;
}

.todo-check-item input[type="checkbox"] {
  display: none;
}

.todo-check-circle {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid var(--scrollbar);
  flex-shrink: 0;
  position: relative;
  transition:
    border-color 0.15s,
    background 0.15s;
}

.todo-check-label:hover .todo-check-circle {
  border-color: var(--accent);
}

.todo-check-item.checked .todo-check-circle {
  background: var(--accent);
  border-color: var(--accent);
}

.todo-check-item.checked .todo-check-circle::after {
  content: "";
  position: absolute;
  top: 4px;
  left: 3px;
  width: 9px;
  height: 5px;
  border: 2px solid var(--on-accent);
  border-top: none;
  border-right: none;
  transform: rotate(-48deg);
}

.todo-check-text {
  font-size: 14px;
  color: var(--text);
  line-height: 1.4;
  flex: 1;
  min-width: 0;
  cursor: text;
  padding: 1px 0;
  border-radius: 4px;
}

.todo-check-item.checked .todo-check-text {
  color: var(--text-dim);
  text-decoration: line-through;
  text-decoration-color: var(--scrollbar);
}

.todo-edit-input {
  flex: 1;
  font-size: 14px;
  color: var(--text);
  background: var(--sidebar);
  border: 1px solid var(--accent);
  border-radius: 4px;
  padding: 1px 5px;
  outline: none;
  font-family: inherit;
  line-height: 1.4;
  min-width: 0;
  margin: -1px 0;
}

/* ── Remove (X) button ── */

.todo-remove-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: transparent;
  border: none;
  color: var(--text-dim);
  cursor: pointer;
  font-size: 10px;
  flex-shrink: 0;
  opacity: 0;
  transition:
    opacity 0.12s,
    background 0.12s,
    color 0.12s;
}

.todo-check-item:hover .todo-remove-btn {
  opacity: 0.6;
}

.todo-remove-btn:hover {
  opacity: 1 !important;
  background: var(--danger-subtle);
  color: var(--danger);
}

/* ── Add row (input + button) ── */

.todo-add-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
}

.todo-add-input {
  flex: 1;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-family: inherit;
  font-size: 13px;
  padding: 8px 12px;
  outline: none;
  transition:
    border-color 0.15s,
    box-shadow 0.15s;
  -webkit-user-select: text;
  user-select: text;
}

.todo-add-input::placeholder {
  color: var(--text-dim);
  opacity: 0.6;
}

.todo-add-input:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(141, 184, 122, 0.18);
}

.todo-add-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--accent);
  color: var(--on-accent);
  border: none;
  cursor: pointer;
  font-size: 12px;
  flex-shrink: 0;
  transition:
    opacity 0.15s,
    transform 0.1s;
}

.todo-add-btn:hover:not(:disabled) {
  opacity: 0.85;
}

.todo-add-btn:active:not(:disabled) {
  transform: scale(0.95);
}

.todo-add-btn:disabled {
  opacity: 0.35;
  cursor: default;
}

/* ── Day navigation (compact mode) ───── */

.todo-day-nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-shrink: 0;
}

.todo-day-nav-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--sidebar-bg);
  border: 1px solid var(--border);
  color: var(--text);
  cursor: pointer;
  font-size: 14px;
  flex-shrink: 0;
  transition:
    background 0.12s,
    border-color 0.12s,
    color 0.12s;
}

.todo-day-nav-btn:hover:not(:disabled) {
  background: var(--accent-subtle);
  border-color: var(--accent);
  color: var(--accent);
}

.todo-day-nav-btn:disabled {
  opacity: 0.3;
  cursor: default;
}

.todo-day-nav-label {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  font-size: 17px;
  font-weight: 600;
  color: var(--text);
}

.todo-day-nav-date {
  font-size: 12px;
  font-weight: 400;
  color: var(--text-dim);
}

/* ── 3-day cards section ─────────────── */

.todo-days-section {
  display: flex;
  gap: 16px;
  flex: 1;
  min-height: 200px;
}

.todo-days-section.compact {
  flex-direction: column;
  min-height: 0;
}

.todo-day-card {
  flex: 1;
  background: var(--sidebar-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  padding: 16px;
}

.todo-day-card.today {
  border-color: var(--accent);
  box-shadow: 0 0 0 1px var(--accent);
}

.todo-day-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 14px;
  flex-shrink: 0;
}

.todo-day-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.todo-day-name {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
}

.todo-day-name.today {
  color: var(--accent);
}

.todo-day-relative {
  font-size: 12px;
  color: var(--text-dim);
}

.todo-day-count {
  font-size: 12px;
  color: var(--text-dim);
  font-weight: 500;
}

.todo-day-tasks {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

/* ═══════════════════════════════════════════════════════════
   Matcha theme  —  tea-steeped reader view
   ═══════════════════════════════════════════════════════════ */

:root[data-theme="matcha"] {
  --bg: #e5e8d4;
  --sidebar-bg: #dbe0c6;
  --main-bg: #eceee0;
  --surface: #e8ebd6;
  --border: #c3c8ad;
  --scrollbar: #adb395;
  --text: #363d2c;
  --text-dim: #7a836a;
  --accent: #5f8a4a;
  --accent-subtle: rgba(95, 138, 74, 0.2);
  --item-hover: rgba(60, 80, 40, 0.06);
  --on-accent: #ffffff;
  --danger: #c44040;
  --danger-subtle: rgba(196, 64, 64, 0.08);
  --table-border: #c3c8ad;
}

/* ── Matcha: popovers & dropdowns ─────────── */

[data-theme="matcha"] .folder-dropdown,
[data-theme="matcha"] .style-dropdown,
[data-theme="matcha"] .attach-dropdown,
[data-theme="matcha"] .context-menu,
[data-theme="matcha"] .table-toolbar {
  background: rgba(236, 238, 224, 0.96);
  border-color: rgba(60, 80, 40, 0.12);
  box-shadow:
    0 8px 32px rgba(50, 60, 30, 0.1),
    0 2px 8px rgba(50, 60, 30, 0.06);
}

[data-theme="matcha"] .folder-dropdown-item:hover,
[data-theme="matcha"] .style-inline-btn:hover,
[data-theme="matcha"] .style-option:hover,
[data-theme="matcha"] .attach-option:hover,
[data-theme="matcha"] .table-toolbar-btn:hover {
  background: rgba(60, 80, 40, 0.08);
}

[data-theme="matcha"] .table-toolbar-divider {
  background: rgba(60, 80, 40, 0.1);
}

[data-theme="matcha"] .style-dropdown-divider {
  background: rgba(60, 80, 40, 0.1);
}

/* ── Matcha: file attachment ─────────────── */

[data-theme="matcha"] .file-attachment-block {
  background: rgba(60, 80, 40, 0.05);
  border-color: rgba(60, 80, 40, 0.12);
}

[data-theme="matcha"] .file-attachment-block:hover {
  background: rgba(60, 80, 40, 0.08);
  border-color: rgba(60, 80, 40, 0.18);
}

[data-theme="matcha"] .file-attachment-download:hover {
  background: rgba(60, 80, 40, 0.08);
}

/* ── Matcha: tooltips ──────────────────────── */

[data-theme="matcha"] .toolbar-btn[data-tooltip]::before {
  border-bottom-color: rgba(236, 238, 224, 0.97);
}

[data-theme="matcha"] .toolbar-btn[data-tooltip]::after {
  background: rgba(236, 238, 224, 0.97);
  border-color: rgba(60, 80, 40, 0.12);
  box-shadow:
    0 4px 6px -1px rgba(50, 60, 30, 0.08),
    0 10px 24px -4px rgba(50, 60, 30, 0.12);
}

/* ── Matcha: modal cards ───────────────────── */

[data-theme="matcha"] .about-card-wrap .about-card {
  background: rgba(236, 238, 224, 0.97);
  border-color: rgba(60, 80, 40, 0.12);
  box-shadow:
    0 24px 60px rgba(50, 60, 30, 0.12),
    0 4px 16px rgba(50, 60, 30, 0.08);
}

[data-theme="matcha"] .bug-report-panel,
[data-theme="matcha"] .view-bugs-panel,
[data-theme="matcha"] .account-card-wrap .account-card,
[data-theme="matcha"] .settings-card,
[data-theme="matcha"] .manage-lists-card,
[data-theme="matcha"] .avatar-picker-panel {
  border-color: rgba(60, 80, 40, 0.12);
  box-shadow:
    0 24px 60px rgba(50, 60, 30, 0.12),
    0 4px 16px rgba(50, 60, 30, 0.08);
}

/* ── Matcha: dividers & misc ───────────────── */

[data-theme="matcha"] .note-list-divider {
  background: var(--border);
}

[data-theme="matcha"] .avatar-picker-option:hover {
  border-color: rgba(60, 80, 40, 0.15);
}

/* ── Matcha: focus rings ───────────────────── */

[data-theme="matcha"] .sidebar-avatar:hover {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.28);
}

[data-theme="matcha"] .sidebar-search-wrap:focus-within {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.22);
}

[data-theme="matcha"] .toolbar-search:focus {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.22);
}

[data-theme="matcha"] .auth-input:focus {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.22);
}

[data-theme="matcha"] .bug-report-input:focus,
[data-theme="matcha"] .bug-report-textarea:focus {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.22);
}

[data-theme="matcha"] .account-avatar-large:hover {
  box-shadow: 0 0 0 4px rgba(95, 138, 74, 0.24);
}

[data-theme="matcha"] .avatar-picker-option.selected {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.28);
}

[data-theme="matcha"] .todo-add-input:focus {
  box-shadow: 0 0 0 3px rgba(95, 138, 74, 0.22);
}

[data-theme="matcha"] .todo-day-card.today {
  box-shadow: 0 0 0 1px var(--accent);
}

/* ── Matcha: caps-lock indicator ───────────── */

[data-theme="matcha"] .account-password-input::-webkit-caps-lock-indicator {
  filter: opacity(0.45);
}

/* ── Matcha: auth animations ───────────────── */

[data-theme="matcha"] .auth-check-circle {
  box-shadow: 0 0 0 0 rgba(95, 138, 74, 0.4);
}

/* ── Matcha: selected note text on accent bg ─ */

[data-theme="matcha"]
  .note-list.sidebar-focused
  .note-item.active
  .note-item-date,
[data-theme="matcha"]
  .note-list.sidebar-focused
  .note-item.active
  .note-item-preview,
[data-theme="matcha"]
  .note-list.sidebar-focused
  .note-item.selected
  .note-item-date,
[data-theme="matcha"]
  .note-list.sidebar-focused
  .note-item.selected
  .note-item-preview {
  color: rgba(255, 255, 255, 0.75);
}

/* ── Matcha: toasts ──────────────────────── */

[data-theme="matcha"] .toast {
  background: rgba(236, 238, 224, 0.94);
  color: #363d2c;
  box-shadow: 0 4px 24px rgba(50, 60, 30, 0.15);
}

[data-theme="matcha"] .toast-error {
  background: rgba(196, 64, 64, 0.92);
  color: #fff;
}

/* ── Matcha: modal overlays ──────────────── */

[data-theme="matcha"] .about-overlay,
[data-theme="matcha"] .account-overlay,
[data-theme="matcha"] .settings-overlay,
[data-theme="matcha"] .manage-lists-overlay {
  background: rgba(54, 61, 44, 0.18);
}

/* ═══════════════════════════════════════════════════════════
   Light theme
   ═══════════════════════════════════════════════════════════ */

:root[data-theme="light"] {
  --bg: #f7f6f3;
  --sidebar-bg: #fafafa;
  --main-bg: #ebebf0;
  --surface: #fafafa;
  --border: #d5d3cd;
  --scrollbar: #c0beb7;
  --text: #2a2e25;
  --text-dim: #707081;
  --accent: #69915b;
  --accent-subtle: rgba(95, 154, 74, 0.338);
  --item-hover: rgba(0, 0, 0, 0.04);
  --on-accent: #ffffff;
  --danger: #d14040;
  --danger-subtle: rgba(209, 64, 64, 0.08);
  --table-border: #d5d3cd;
}

/* ── Light: popovers & dropdowns ─────────── */

[data-theme="light"] .folder-dropdown,
[data-theme="light"] .style-dropdown,
[data-theme="light"] .attach-dropdown,
[data-theme="light"] .context-menu,
[data-theme="light"] .table-toolbar {
  background: rgba(255, 255, 255, 0.94);
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.08),
    0 2px 8px rgba(0, 0, 0, 0.04);
}

[data-theme="light"] .folder-dropdown-item:hover,
[data-theme="light"] .style-inline-btn:hover,
[data-theme="light"] .style-option:hover,
[data-theme="light"] .attach-option:hover,
[data-theme="light"] .table-toolbar-btn:hover {
  background: rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .table-toolbar-divider {
  background: rgba(0, 0, 0, 0.08);
}

[data-theme="light"] .style-dropdown-divider {
  background: rgba(0, 0, 0, 0.08);
}

/* ── Light: file attachment ─────────────── */

[data-theme="light"] .file-attachment-block {
  background: rgba(0, 0, 0, 0.03);
  border-color: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .file-attachment-block:hover {
  background: rgba(0, 0, 0, 0.05);
  border-color: rgba(0, 0, 0, 0.15);
}

[data-theme="light"] .file-attachment-download:hover {
  background: rgba(0, 0, 0, 0.06);
}

/* ── Light: tooltips ──────────────────────── */

[data-theme="light"] .toolbar-btn[data-tooltip]::before {
  border-bottom-color: rgba(255, 255, 255, 0.97);
}

[data-theme="light"] .toolbar-btn[data-tooltip]::after {
  background: rgba(255, 255, 255, 0.97);
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.06),
    0 10px 24px -4px rgba(0, 0, 0, 0.1);
}

/* ── Light: modal cards ───────────────────── */

[data-theme="light"] .about-card-wrap .about-card {
  background: rgba(255, 255, 255, 0.97);
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.1),
    0 4px 16px rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .bug-report-panel,
[data-theme="light"] .view-bugs-panel,
[data-theme="light"] .account-card-wrap .account-card,
[data-theme="light"] .settings-card,
[data-theme="light"] .manage-lists-card,
[data-theme="light"] .avatar-picker-panel {
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow:
    0 24px 60px rgba(0, 0, 0, 0.1),
    0 4px 16px rgba(0, 0, 0, 0.06);
}

/* ── Light: dividers & misc ───────────────── */

[data-theme="light"] .note-list-divider {
  background: var(--border);
}

[data-theme="light"] .avatar-picker-option:hover {
  border-color: rgba(0, 0, 0, 0.12);
}

/* ── Light: focus rings ───────────────────── */

[data-theme="light"] .sidebar-avatar:hover {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.25);
}

[data-theme="light"] .sidebar-search-wrap:focus-within {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.18);
}

[data-theme="light"] .toolbar-search:focus {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.18);
}

[data-theme="light"] .auth-input:focus {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.18);
}

[data-theme="light"] .bug-report-input:focus,
[data-theme="light"] .bug-report-textarea:focus {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.18);
}

[data-theme="light"] .account-avatar-large:hover {
  box-shadow: 0 0 0 4px rgba(95, 154, 74, 0.2);
}

[data-theme="light"] .avatar-picker-option.selected {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.25);
}

[data-theme="light"] .todo-add-input:focus {
  box-shadow: 0 0 0 3px rgba(95, 154, 74, 0.18);
}

[data-theme="light"] .todo-day-card.today {
  box-shadow: 0 0 0 1px var(--accent);
}

/* ── Light: caps-lock indicator ───────────── */

[data-theme="light"] .account-password-input::-webkit-caps-lock-indicator {
  filter: opacity(0.45);
}

/* ── Light: auth animations ───────────────── */

[data-theme="light"] .auth-check-circle {
  box-shadow: 0 0 0 0 rgba(95, 154, 74, 0.4);
}

/* ── Light: selected note text on accent bg ─ */

[data-theme="light"]
  .note-list.sidebar-focused
  .note-item.active
  .note-item-date,
[data-theme="light"]
  .note-list.sidebar-focused
  .note-item.active
  .note-item-preview,
[data-theme="light"]
  .note-list.sidebar-focused
  .note-item.selected
  .note-item-date,
[data-theme="light"]
  .note-list.sidebar-focused
  .note-item.selected
  .note-item-preview {
  color: rgba(255, 255, 255, 0.75);
}

/* ── Toast ── */

.toast-container {
  position: fixed;
  bottom: 32px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  pointer-events: none;
}

.toast {
  background: rgba(0, 0, 0, 0.82);
  color: #fff;
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 13.5px;
  font-weight: 500;
  letter-spacing: 0.01em;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);
  animation:
    toast-in 0.32s ease-out,
    toast-out 0.35s 3.1s ease-in forwards;
  white-space: nowrap;
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(8px) scale(0.97);
  }
}

.toast-error {
  background: rgba(180, 40, 40, 0.88);
}

[data-theme="light"] .toast {
  background: rgba(255, 255, 255, 0.92);
  color: #1a1a1a;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12);
}

[data-theme="light"] .toast-error {
  background: rgba(200, 50, 50, 0.92);
  color: #fff;
}

/* ── Light: modal overlays get subtle scrim ── */

[data-theme="light"] .about-overlay,
[data-theme="light"] .account-overlay,
[data-theme="light"] .settings-overlay,
[data-theme="light"] .manage-lists-overlay {
  background: rgba(0, 0, 0, 0.15);
}
